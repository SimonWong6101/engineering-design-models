-- This journal creates a block, subtracts a rotated rectangular pocket,
-- and puts a rectangular island in the pocket with the same orientation.

(modeller start)
(load "plisp/load_functions.l")
(define workpiece p_block)
(workpiece x 5.26; y 4.99; z 1.5)
(workpiece point '(2.63 2.495 0.0))
(workpiece create)
(init_graphics)
(make_pocket 'rectangular_pocket1 2.63 2.495 1.0 3.0 2.0 0.5 0.7)
(rectangular_pocket1 direction '(0 0 1); point '(2.63 2.495 1.0); angle 40)
(rectangular_pocket1 rotate)
(graphics sketch 'rectangular_pocket1)
(workpiece subtract 'rectangular_pocket1)
(graphics clear)
(graphics sketch 'workpiece)
(make_pocket 'rectangular_pocket2 2.63 2.495 1.0 1.0 0.3 0.5 0.1)
(rectangular_pocket2 direction '(0 0 1); point '(2.63 2.495 1.0); angle 40)
(rectangular_pocket2 rotate)
(graphics sketch 'rectangular_pocket2)
(workpiece unite 'rectangular_pocket2)
(graphics clear)
(graphics sketch 'workpiece)
(workpiece transmit "testrot")
-- (quit)
