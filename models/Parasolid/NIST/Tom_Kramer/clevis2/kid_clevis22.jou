(modeller start)
(load "kid_macros")
(define workpiece body)
(workpiece receive "olps_workpiece_in.xmt_txt")
(translate_body -0.05 0.0 0.0)
(init_graphics)
(setq mrsev nil)
(princ "Save mrsev's? (y/n) ")
(cond ((equal (read) 'y) (setq mrsev t))
      (t nil))
(setq remos nil)
(princ "Save removed volumes? (y/n) ")
(cond ((equal (read) 'y) (setq remos t))
      (t nil))
(setq interm nil)
(princ "Save intermediates? (y/n) ")
(cond ((equal (read) 'y) (setq interm t))
      (t nil))
(make_pocket 'rectangular_pocket1 1.8 1.91 1.11 4.4 2.6 0.39 0.4)
(graphics sketch 'rectangular_pocket1)
(cond (mrsev
       (rectangular_pocket1 transmit "rectangular_pocket1"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'rectangular_pocket1)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_1")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'rectangular_pocket1)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_1")
       (workpiece state 'new))
      (t nil))
(make_pocket 'rectangular_pocket2 5.0 1.91 1.01 3.7 2.6 0.49 0.4)
(graphics sketch 'rectangular_pocket2)
(cond (mrsev
       (rectangular_pocket2 transmit "rectangular_pocket2"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'rectangular_pocket2)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_2")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'rectangular_pocket2)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_2")
       (workpiece state 'new))
      (t nil))
(make_pocket 'rectangular_pocket3 1.8 1.5 0.3 0.98 0.98 0.8 0.49)
(graphics sketch 'rectangular_pocket3)
(cond (mrsev
       (rectangular_pocket3 transmit "rectangular_pocket3"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'rectangular_pocket3)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_3")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'rectangular_pocket3)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_3")
       (workpiece state 'new))
      (t nil))
(make_other_pocket 'other_pocket4 '(
(0.79 0.61)
(0.79 2.51)
(2.81 2.51)
(2.81 0.61)
(3.84 0.61)
(3.84 2.11)
(5.71 2.11)
(5.71 0.61)
(6.81 0.61)
(6.81 3.15)
(-0.31 3.15)
(-0.31 0.61)) 0.39 '(
0.4
1.0
1.0
0.4
0.35
0.1
0.1
0.35
0.35
0.35
0.35
0.35) 0.72)
(graphics sketch 'other_pocket4)
(cond (mrsev
       (other_pocket4 transmit "other_pocket4"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'other_pocket4)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_4")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'other_pocket4)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_4")
       (workpiece state 'new))
      (t nil))
(make_pocket 'rectangular_pocket5 1.8 1.6 1.1 4.4 2.0 0.4 0.4)
(graphics sketch 'rectangular_pocket5)
(cond (mrsev
       (rectangular_pocket5 transmit "rectangular_pocket5"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'rectangular_pocket5)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_5")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'rectangular_pocket5)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_5")
       (workpiece state 'new))
      (t nil))
(make_pocket 'rectangular_pocket6 5.0 1.4 1.0 3.7 1.6 0.5 0.4)
(graphics sketch 'rectangular_pocket6)
(cond (mrsev
       (rectangular_pocket6 transmit "rectangular_pocket6"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'rectangular_pocket6)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_6")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'rectangular_pocket6)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_6")
       (workpiece state 'new))
      (t nil))
(make_center_drill_hole 'hole7 4.35 1.6 1.0 0.085 90.0)
(graphics sketch 'hole7)
(cond (mrsev
       (hole7 transmit "hole7"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'hole7)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_7")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'hole7)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_7")
       (workpiece state 'new))
      (t nil))
(make_center_drill_hole 'hole8 5.2 1.6 1.0 0.085 90.0)
(graphics sketch 'hole8)
(cond (mrsev
       (hole8 transmit "hole8"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'hole8)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_8")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'hole8)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_8")
       (workpiece state 'new))
      (t nil))
(make_hole 'hole9 1.8 1.5 0.3 0.8 0.5)
(graphics sketch 'hole9)
(cond (mrsev
       (hole9 transmit "hole9"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'hole9)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_9")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'hole9)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_9")
       (workpiece state 'new))
      (t nil))
(make_other_pocket 'other_pocket10 '(
(0.8 0.6)
(0.8 2.5)
(2.8 2.5)
(2.8 0.6)
(3.85 0.6)
(3.85 2.1)
(5.7 2.1)
(5.7 0.6)
(6.75 0.6)
(6.75 3.1)
(-0.3 3.1)
(-0.3 0.6)) 0.39 '(
0.4
1.0
1.0
0.4
0.3
0.1
0.1
0.3
0.3
0.3
0.3
0.3) 0.71)
(graphics sketch 'other_pocket10)
(cond (mrsev
       (other_pocket10 transmit "other_pocket10"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'other_pocket10)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_10")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'other_pocket10)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_10")
       (workpiece state 'new))
      (t nil))
(make_drill_hole 'hole11 4.35 1.6 0.4 0.6 0.25 118.0)
(graphics sketch 'hole11)
(cond (mrsev
       (hole11 transmit "hole11"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'hole11)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_11")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'hole11)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_11")
       (workpiece state 'new))
      (t nil))
(make_drill_hole 'hole12 5.2 1.6 0.4 0.6 0.25 118.0)
(graphics sketch 'hole12)
(cond (mrsev
       (hole12 transmit "hole12"))
      (t nil))
(cond (remos
       (define removed body)
       (define interim body)
       (removed replicate 'hole12)
       (interim replicate 'workpiece)
       (removed intersect 'interim)
       (removed transmit "removed_12")
       (undefine interim)
       (undefine removed))
      (t nil))
(workpiece subtract 'hole12)
(graphics clear)
(graphics sketch 'workpiece)
(cond (interm
       (workpiece transmit "intermediate_12")
       (workpiece state 'new))
      (t nil))
(workpiece merge)
(translate_body 0.05 0.0 0.0)
(workpiece transmit "olps_workpiece_out")
(graphics clear)
(graphics sketch 'workpiece)
(graphics ar)
-- (quit)
